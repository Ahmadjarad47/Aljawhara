<div class="drawer drawer-open">
    <input id="my-drawer-4" type="checkbox" class="drawer-toggle" />
    <div class="drawer-content">
        <!-- Header Section -->
        <div class="navbar bg-base-100 shadow-md border-b border-base-300 px-4 md:px-8">
            <!-- Left Section -->
            <div class="flex-1 flex items-center gap-3">
              <!-- Admin Icon -->
              <div class="avatar">
                <div class="w-12 h-12 rounded-full bg-primary text-primary-content flex items-center justify-center shadow-md">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7">
                    <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" />
                  </svg>
                </div>
              </div>
              <div>
                <h1 class="text-lg md:text-xl font-bold text-base-content leading-tight">{{ t('adminDashboard') }}</h1>
                <p class="text-sm text-base-content/70">{{ t('welcomeBack') }}, {{ t('administrator') }}</p>
              </div>
            </div>
          
        
          </div>
          
        
        <!-- Main Content -->
       <router-outlet></router-outlet>
    </div>

    <div class="drawer-side is-drawer-close:overflow-visible">
        <label for="my-drawer-4" aria-label="close sidebar" class="drawer-overlay"></label>
        <div class="is-drawer-close:w-14 is-drawer-open:w-64 bg-base-200 flex flex-col items-start min-h-full">
            <!-- Logo Section -->
            <div class="flex items-center justify-center w-full p-4 border-b border-base-300">
                <div class="flex items-center gap-3">
                    <img src="/logo.png" alt="Aljawhara Logo" class="w-56 h-12 object-contain" />
                    <!-- <span class="is-drawer-close:hidden text-lg font-bold text-base-content">Aljawhara</span> -->
                </div>
            </div>
            
            <!-- Navigation Menu -->
            <ul class="menu w-full grow">
                <!-- Dashboard -->
                <li>
                    <a routerLink="dashboard" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Dashboard">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path>
                            <path d="M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('dashboard') }}</span>
                    </a>
                </li>

                <!-- Categories -->
                <li>
                    <a routerLink="category" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Categories">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('categories') }}</span>
                    </a>
                </li>

                <!-- Sub-Categories -->
                <li>
                    <a routerLink="sub-category" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Sub-Categories">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('subCategories') }}</span>
                    </a>
                </li>

                <!-- Products -->
                <li>
                    <a routerLink="product" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Products">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('products') }}</span>
                    </a>
                </li>

                <!-- Carousels -->
                <li>
                    <a routerLink="carousel" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Carousels">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M4 5h16a1 1 0 0 1 1 1v8a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a1 1 0 0 1 1-1z"></path>
                            <path d="M8 5v14m8-14v14"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('carousels') }}</span>
                    </a>
                </li>

                <!-- Coupons -->
                <li>
                    <a routerLink="coupons" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Coupons">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            <path d="M9 10h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('coupons') }}</span>
                    </a>
                </li>

                <!-- Transactions -->
                <li>
                    <a routerLink="transaction" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Transactions">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M2 12h20M2 6h20M2 18h20"></path>
                            <path d="M12 2v20M6 2v20M18 2v20"></path>
                            <circle cx="6" cy="6" r="2"></circle>
                            <circle cx="18" cy="6" r="2"></circle>
                            <circle cx="6" cy="18" r="2"></circle>
                            <circle cx="18" cy="18" r="2"></circle>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('transactions') }}</span>
                    </a>
                </li>

                <!-- Orders -->
                <li>
                    <a routerLink="order" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Orders">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('orders') }}</span>
                    </a>
                </li>

                <!-- User Management -->
                <li>
                    <a routerLink="user-management" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="User Management">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('userManagement') }}</span>
                    </a>
                </li>

                <!-- Health -->
                <li>
                    <a routerLink="health" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Health">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M4 6h16M4 12h10M4 18h7"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">{{ t('health') }}</span>
                    </a>
                </li>

             
            </ul>

            <!-- User Profile Section -->
            <div class="border-t border-base-300 p-4 w-full">
                <!-- User Info -->
                <div class="flex items-center gap-3 mb-4">
                    <div class="avatar">
                        <div class="w-10 h-10 rounded-full bg-primary text-primary-content flex items-center justify-center">
                            <span class="text-lg font-bold">{{ getUserInitials() }}</span>
                        </div>
                    </div>
                    <div class="is-drawer-close:hidden">
                        <div class="text-sm font-semibold text-base-content">{{ getUserDisplayName() }}</div>
                        <div class="text-xs text-base-content/70">{{ getUserRole() }}</div>
                    </div>
                </div>

                <!-- Language Switcher -->
                <div class="mb-3 is-drawer-close:hidden">
                    <div class="dropdown dropdown-top w-full">
                        <div tabindex="0" role="button" class="btn btn-sm btn-outline w-full justify-between">
                            <span class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-4 h-4">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                                </svg>
                                {{ currentLanguage() === 'ar' ? t('arabic') : t('english') }}
                            </span>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-4 h-4">
                                <polyline points="6,9 12,15 18,9"></polyline>
                            </svg>
                        </div>
                        <ul tabindex="0" class="dropdown-content menu p-2 shadow-lg bg-base-100 rounded-box w-full">
                            <li><a (click)="switchLanguage('en')" class="text-sm">{{ t('english') }}</a></li>
                            <li><a (click)="switchLanguage('ar')" class="text-sm">{{ t('arabic') }}</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Logout Button -->
                <button (click)="logout()" [disabled]="isLoggingOut" class="btn btn-sm btn-error w-full is-drawer-close:tooltip is-drawer-close:tooltip-right" data-tip="Logout">
                    @if (isLoggingOut) {
                        <span class="loading loading-spinner loading-xs"></span>
                    } @else {
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-4 h-4">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16,17 21,12 16,7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    }
                    <span class="is-drawer-close:hidden">{{ isLoggingOut ? t('loggingOut') : t('logout') }}</span>
                </button>
            </div>

            <!-- button to open/close drawer -->
            <div class="m-2 is-drawer-close:tooltip is-drawer-close:tooltip-right" [attr.data-tip]="t('open')">
                <label for="my-drawer-4" class="btn btn-ghost btn-circle drawer-button is-drawer-open:rotate-y-180">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                        stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                        class="inline-block size-4 my-1.5">
                        <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z">
                        </path>
                        <path d="M9 4v16"></path>
                        <path d="M14 10l2 2l-2 2"></path>
                    </svg>
                </label>
            </div>

        </div>
    </div>

</div>
