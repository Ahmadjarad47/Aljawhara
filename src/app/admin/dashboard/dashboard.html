<div class="drawer drawer-open">
    <input id="my-drawer-4" type="checkbox" class="drawer-toggle" />
    <div class="drawer-content">
        <!-- Header Section -->
        <div class="navbar bg-base-100 shadow-md border-b border-base-300 px-4 md:px-8">
            <!-- Left Section -->
            <div class="flex-1 flex items-center gap-3">
              <!-- Admin Icon -->
              <div class="avatar">
                <div class="w-12 h-12 rounded-full bg-primary text-primary-content flex items-center justify-center shadow-md">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7">
                    <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" />
                  </svg>
                </div>
              </div>
              <div>
                <h1 class="text-lg md:text-xl font-bold text-base-content leading-tight">Admin Dashboard</h1>
                <p class="text-sm text-base-content/70">Welcome back, Administrator</p>
              </div>
            </div>
          
            <!-- Right Section -->
            <div class="flex-none flex items-center gap-4">
              <!-- Search -->
              <div class="hidden sm:flex form-control">
                <div class="input-group">
                  <input type="text" placeholder="Search..." class="input input-bordered input-sm w-48 md:w-64" />
                  <button class="btn btn-square btn-sm btn-primary text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                  </button>
                </div>
              </div>
          
              <!-- Notifications -->
              <div class="dropdown dropdown-end">
                <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
                  <div class="indicator">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-base-content" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span class="badge badge-xs badge-primary indicator-item">3</span>
                  </div>
                </div>
                <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-3 shadow-lg bg-base-100 rounded-box w-80">
                  <li class="menu-title">
                    <span class="text-base font-semibold">Notifications</span>
                  </li>
          
                  <!-- Notification Item -->
                  <li>
                    <a class="flex flex-col gap-1 hover:bg-base-200 rounded-lg p-2 transition">
                      <div class="flex items-center gap-2">
                        <div class="avatar">
                          <div class="w-8 h-8 rounded-full bg-success text-success-content flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-4 h-4">
                              <path fill-rule="evenodd" d="M12 2.25a9.75 9.75 0 110 19.5A9.75 9.75 0 0112 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z" clip-rule="evenodd" />
                            </svg>
                          </div>
                        </div>
                        <div>
                          <div class="font-semibold">New User Registration</div>
                          <div class="text-xs opacity-70">2 minutes ago</div>
                        </div>
                      </div>
                      <p class="text-sm opacity-80">A new freelancer has registered on the platform.</p>
                    </a>
                  </li>
          
                  <!-- More Notifications -->
                  <li>
                    <a class="flex flex-col gap-1 hover:bg-base-200 rounded-lg p-2 transition">
                      <div class="flex items-center gap-2">
                        <div class="avatar">
                          <div class="w-8 h-8 rounded-full bg-warning text-warning-content flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-4 h-4">
                              <path fill-rule="evenodd" d="M12 2.25a9.75 9.75 0 110 19.5A9.75 9.75 0 0112 2.25zM12 6a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0112 6zm0 8.25a.75.75 0 100 1.5.75.75 0 000-1.5z" clip-rule="evenodd" />
                            </svg>
                          </div>
                        </div>
                        <div>
                          <div class="font-semibold">Job Posting Pending</div>
                          <div class="text-xs opacity-70">15 minutes ago</div>
                        </div>
                      </div>
                      <p class="text-sm opacity-80">A company job posting requires approval.</p>
                    </a>
                  </li>
          
                  <li>
                    <a class="flex flex-col gap-1 hover:bg-base-200 rounded-lg p-2 transition">
                      <div class="flex items-center gap-2">
                        <div class="avatar">
                          <div class="w-8 h-8 rounded-full bg-info text-info-content flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-4 h-4">
                              <path fill-rule="evenodd" d="M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.9 48.9 0 01-3.476.383l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a48.9 48.9 0 01-3.476-.383c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.678 3.348-3.97zM6.75 8.25a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H7.5z" clip-rule="evenodd" />
                            </svg>
                          </div>
                        </div>
                        <div>
                          <div class="font-semibold">System Update</div>
                          <div class="text-xs opacity-70">1 hour ago</div>
                        </div>
                      </div>
                      <p class="text-sm opacity-80">Platform maintenance completed successfully.</p>
                    </a>
                  </li>
          
                  <div class="divider my-2"></div>
                  <li>
                    <a class="text-center text-primary font-medium hover:underline">View All Notifications</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          
        
        <!-- Main Content -->
       <router-outlet></router-outlet>
    </div>

    <div class="drawer-side is-drawer-close:overflow-visible">
        <label for="my-drawer-4" aria-label="close sidebar" class="drawer-overlay"></label>
        <div class="is-drawer-close:w-14 is-drawer-open:w-64 bg-base-200 flex flex-col items-start min-h-full">
            <!-- Logo Section -->
            <div class="flex items-center justify-center w-full p-4 border-b border-base-300">
                <div class="flex items-center gap-3">
                    <img src="/logo.png" alt="Aljawhara Logo" class="w-56 h-12 object-contain" />
                    <!-- <span class="is-drawer-close:hidden text-lg font-bold text-base-content">Aljawhara</span> -->
                </div>
            </div>
            
            <!-- Navigation Menu -->
            <ul class="menu w-full grow">
                <!-- Dashboard -->
                <li>
                    <a routerLink="dashboard" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Dashboard">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path>
                            <path d="M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">Dashboard</span>
                    </a>
                </li>

                <!-- Categories -->
                <li>
                    <a routerLink="category" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Categories">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">Categories</span>
                    </a>
                </li>

                <!-- Sub-Categories -->
                <li>
                    <a routerLink="sub-category" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Sub-Categories">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">Sub-Categories</span>
                    </a>
                </li>

                <!-- Products -->
                <li>
                    <a routerLink="product" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Products">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">Products</span>
                    </a>
                </li>

                <!-- Carousels -->
                <li>
                    <a routerLink="carousel" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Carousels">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M4 5h16a1 1 0 0 1 1 1v8a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a1 1 0 0 1 1-1z"></path>
                            <path d="M8 5v14m8-14v14"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">Carousels</span>
                    </a>
                </li>

                <!-- Coupons -->
                <li>
                    <a routerLink="coupons" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Coupons">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            <path d="M9 10h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">Coupons</span>
                    </a>
                </li>

                <!-- Transactions -->
                <li>
                    <a routerLink="transaction" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Transactions">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M2 12h20M2 6h20M2 18h20"></path>
                            <path d="M12 2v20M6 2v20M18 2v20"></path>
                            <circle cx="6" cy="6" r="2"></circle>
                            <circle cx="18" cy="6" r="2"></circle>
                            <circle cx="6" cy="18" r="2"></circle>
                            <circle cx="18" cy="18" r="2"></circle>
                        </svg>
                        <span class="is-drawer-close:hidden">Transactions</span>
                    </a>
                </li>

                <!-- Orders -->
                <li>
                    <a routerLink="order" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Orders">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">Orders</span>
                    </a>
                </li>

                <!-- User Management -->
                <li>
                    <a routerLink="user-management" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="User Management">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">User Management</span>
                    </a>
                </li>

                <!-- Health -->
                <li>
                    <a routerLink="health" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="is-drawer-close:tooltip is-drawer-close:tooltip-right transition-colors duration-200 hover:bg-primary/10 active:bg-primary/20" 
                       data-tip="Health">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                            stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                            class="inline-block size-4 my-1.5">
                            <path d="M4 6h16M4 12h10M4 18h7"></path>
                        </svg>
                        <span class="is-drawer-close:hidden">Health</span>
                    </a>
                </li>

             
            </ul>

            <!-- User Profile Section -->
            <div class="border-t border-base-300 p-4 w-full">
                <!-- User Info -->
                <div class="flex items-center gap-3 mb-4">
                    <div class="avatar">
                        <div class="w-10 h-10 rounded-full bg-primary text-primary-content flex items-center justify-center">
                            <span class="text-lg font-bold">{{ getUserInitials() }}</span>
                        </div>
                    </div>
                    <div class="is-drawer-close:hidden">
                        <div class="text-sm font-semibold text-base-content">{{ getUserDisplayName() }}</div>
                        <div class="text-xs text-base-content/70">{{ getUserRole() }}</div>
                    </div>
                </div>

                <!-- Language Switcher -->
                <div class="mb-3 is-drawer-close:hidden">
                    <div class="dropdown dropdown-top w-full">
                        <div tabindex="0" role="button" class="btn btn-sm btn-outline w-full justify-between">
                            <span class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-4 h-4">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                                </svg>
                                English
                            </span>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-4 h-4">
                                <polyline points="6,9 12,15 18,9"></polyline>
                            </svg>
                        </div>
                        <ul tabindex="0" class="dropdown-content menu p-2 shadow-lg bg-base-100 rounded-box w-full">
                            <li><a class="text-sm">English</a></li>
                            <li><a class="text-sm">العربية</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Logout Button -->
                <button (click)="logout()" [disabled]="isLoggingOut" class="btn btn-sm btn-error w-full is-drawer-close:tooltip is-drawer-close:tooltip-right" data-tip="Logout">
                    @if (isLoggingOut) {
                        <span class="loading loading-spinner loading-xs"></span>
                    } @else {
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-4 h-4">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16,17 21,12 16,7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    }
                    <span class="is-drawer-close:hidden">{{ isLoggingOut ? 'Logging out...' : 'Logout' }}</span>
                </button>
            </div>

            <!-- button to open/close drawer -->
            <div class="m-2 is-drawer-close:tooltip is-drawer-close:tooltip-right" data-tip="Open">
                <label for="my-drawer-4" class="btn btn-ghost btn-circle drawer-button is-drawer-open:rotate-y-180">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
                        stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"
                        class="inline-block size-4 my-1.5">
                        <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z">
                        </path>
                        <path d="M9 4v16"></path>
                        <path d="M14 10l2 2l-2 2"></path>
                    </svg>
                </label>
            </div>

        </div>
    </div>

</div>
